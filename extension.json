{
	"name": "Popups",
	"author": [
		"Prateek Saxena",
		"Yair Rand"
	],
	"url": "https://www.mediawiki.org/wiki/Extension:Popups",
	"descriptionmsg": "popups-desc",
	"license-name": "GPL-2.0+",
	"type": "betafeatures",
	"AutoloadClasses": {
		"PopupsHooks": "Popups.hooks.php",
		"Popups\\PopupsContext": "includes/PopupsContext.php",
		"Popups\\PopupsGadgetsIntegration": "includes/PopupsGadgetsIntegration.php"
	},
	"ConfigRegistry": {
		"popups": "GlobalVarConfig::newInstance"
	},
	"Hooks": {
		"GetBetaFeaturePreferences": [
			"PopupsHooks::onGetBetaPreferences"
		],
		"BeforePageDisplay": [
			"PopupsHooks::onBeforePageDisplay"
		],
		"ResourceLoaderTestModules": [
			"PopupsHooks::onResourceLoaderTestModules"
		],
		"ResourceLoaderGetConfigVars": [
			"PopupsHooks::onResourceLoaderGetConfigVars"
		],
		"GetPreferences": [
			"PopupsHooks::onGetPreferences"
		],
		"UserGetDefaultOptions": [
			"PopupsHooks::onUserGetDefaultOptions"
		],
		"MakeGlobalVariablesScript": [
			"PopupsHooks::onMakeGlobalVariablesScript"
		]
	},
	"MessagesDirs": {
		"Popups": [
			"i18n"
		]
	},
	"EventLoggingSchemas": {
		"Popups": 16208085
	},
	"config": {
		"@PopupsBetaFeature": "@var bool: Whether the extension should be enabled as an opt-in beta feature. If true, the BetaFeatures extension must be installed. False by default.",
		"PopupsBetaFeature": false,
		"@PopupsSchemaSamplingRate": "@var number: Sample rate for logging events to Schema:Popups.",
		"PopupsSchemaSamplingRate": 0,
		"@PopupsHideOptInOnPreferencesPage": "@var bool: Whether the option to senable/disable Page Previews should be hidden on Preferences page. Please note if PopupsBetaFeature is set to true this option will be always hidden. False by default",
		"PopupsHideOptInOnPreferencesPage": false,
		"@PopupsOptInDefaultState" : "@var string:['1'|'0'] Default Page Previews visibility. Has to be a string as a compatibility with beta feature settings",
		"PopupsOptInDefaultState" : "0",
		"@PopupsConflictingNavPopupsGadgetName": "@var string: Navigation popups gadget name",
		"PopupsConflictingNavPopupsGadgetName": "Navigation_popups",
		"PopupsConflictingNavPopupsGadgetName": "Navigation_popups",
		"@PopupsAPIUseRESTBase": "Whether to use RESTBase rather than the MediaWiki API for fetching Popups data.",
		"PopupsAPIUseRESTBase": false
	},
	"ResourceModules": {
		"ext.popups.images": {
			"selector": ".mw-ui-icon-{name}:before",
			"class": "ResourceLoaderImageModule",
			"prefix": "mw-ui",
			"images": {
				"popups-close": "resources/ext.popups.images/close.svg"
			}
		},
		"ext.popups": {
			"scripts": [
				"resources/ext.popups/index.js",
				"resources/ext.popups/wait.js",
				"resources/ext.popups/userSettings.js",
				"resources/ext.popups/isEnabled.js",
				"resources/ext.popups/actions.js",
				"resources/ext.popups/processLinks.js",
				"resources/ext.popups/counts.js",

				"resources/ext.popups/preview/index.js",

				"resources/ext.popups/gateway/index.js",

				"resources/ext.popups/renderer.js",
				"resources/ext.popups/schema.js",

				"resources/ext.popups/reducers/index.js",

				"resources/ext.popups/changeListener.js",
				"resources/ext.popups/changeListeners/index.js",

				"resources/ext.popups/settingsDialog.js",
				"resources/ext.popups/pageVisibility.js",
				"resources/ext.popups/checkin.js",
				"resources/ext.popups/previewBehavior.js",

				"resources/ext.popups/boot.js"
			],
			"templates": {
				"preview.mustache": "resources/ext.popups/templates/preview.mustache",
				"preview-empty.mustache": "resources/ext.popups/templates/preview-empty.mustache",
				"settings.mustache": "resources/ext.popups/templates/settings.mustache"
			},
			"styles": [
				"resources/ext.popups/styles/ext.popups.core.less",
				"resources/ext.popups/styles/ext.popups.animation.less",
				"resources/ext.popups/styles/ext.popups.settings.less"
			],
			"messages": [
				"popups-settings-title",
				"popups-settings-description",
				"popups-settings-option-simple",
				"popups-settings-option-simple-description",
				"popups-settings-option-advanced",
				"popups-settings-option-advanced-description",
				"popups-settings-option-off",
				"popups-settings-save",
				"popups-settings-cancel",
				"popups-settings-enable",
				"popups-settings-help",
				"popups-settings-help-ok",
				"popups-send-feedback",
				"popups-preview-no-preview",
				"popups-preview-footer-read"
			],
			"dependencies": [
				"ext.popups.images",
				"mediawiki.storage",
				"mediawiki.Title",
				"mediawiki.jqueryMsg",
				"mediawiki.ui.button",
				"mediawiki.ui.icon",
				"mediawiki.Uri",
				"jquery.hidpi",
				"ext.popups.lib"
			]
		},
		"ext.popups.lib": {
			"scripts": [
				"resources/ext.popups.lib/redux/redux.js",
				"resources/ext.popups.lib/redux-thunk/redux-thunk.js"
			]
		}
	},
	"ResourceFileModulePaths": {
		"localBasePath": "",
		"remoteExtPath": "Popups"
	},
	"manifest_version": 1
}
